<header
  class="masthead"
  style="background-color: #E6A4B4"
>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="stylesheet" href="../static/css/style.css">


  <div class="p-3 text-center jumbotron img-cabecera">

    <div class="container py-5">
      <p class="text-title">API</p>
    </div>
  </div>
</header>

{% include "header.html" %}


<script>

function copyToken( id_element ) {
    var text = document.getElementById(id_element).innerHTML;
    navigator.clipboard.writeText(text);
  }

</script>

<main class="mb-4">
  <div class="container g-4 py-5">
    <div class="container my-5 ">
      <div class="position-relative p-5 text-center border border-dashed rounded-4 card-token">

        {% if current_user.is_authenticated %}

          {% if access_token %}
            <h1 class="text-body-emphasis mx-auto">Token Generated</h1>
            <div class="position-relative text-start border border-dashed rounded-1 form-control box-adjustment mt-3"
                 id="myToken"> {{ access_token }}
            </div>

            <button class="btn btn-sm btn-outline-secondary mt-3" type="button" onclick="copyToken('myToken')">
              Copy
            </button>

          {% endif %}
          {% if not access_token %}
            <h1 class="text-body-emphasis mx-auto">Generate Token</h1>
            <p class="col-lg-8 mx-auto mb-4">
              Get your token to be able to add, modify and delete from the API.
            </p>
            <a class="btn btn-secondary mb-4" href="{{ url_for('api.create_token') }}" role="button"> Get Token</a>
        {% endif %}
        {% endif %}
        {% if not current_user.is_authenticated %}
          <h1 class="text-body-emphasis mx-auto">Generate Token</h1>
          <p class="col-lg-8 mx-auto mb-4">
            Register or log in and get your token to be able to add, modify and delete from the API.
          </p>
        {% endif %}
      </div>
      <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <a class="btn btn-sm btn-outline-secondary mt-3"
           href="https://documenter.getpostman.com/view/34666668/2sAXjNWqZa" target="_blank" role="button"> See API
          Documentation</a>
      </div>
    </div>
  </div>

</main>


{% include "footer.html" %}